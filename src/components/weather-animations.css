/* FULLSCREEN BACKGROUND LAYER */
.weather-bg-layer {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 1; /* stays behind UI */
  pointer-events: none;
}

/* Default cloudy background */
.weather-bg-layer.clouds {
  background: linear-gradient(to bottom, #444, #222);
}

/* SUNNY BACKGROUND */
.weather-bg-layer.sunny {
  background: linear-gradient(to bottom, #4facfe, #00f2fe);
}

.sun-rays {
  position: absolute;
  top: -50px;
  left: -50px;
  width: 250px;
  height: 250px;
  background: radial-gradient(circle, rgba(255,255,255,0.7), transparent);
  border-radius: 50%;
  filter: blur(20px);
  animation: pulseSun 4s infinite alternate ease-in-out;
}

@keyframes pulseSun {
  from { transform: scale(1); opacity: 0.7; }
  to { transform: scale(1.3); opacity: 1; }
}

/* RAIN BACKGROUND */
.weather-bg-layer.rain {
  background: linear-gradient(to bottom, #2c3e50, #000);
}

.rain-drop {
  position: absolute;
  width: 2px;
  height: 18px;
  background: rgba(255, 255, 255, 0.6);
  bottom: 100%;
  animation: rainFall 0.7s linear infinite;
  left: calc(100vw * var(--x-pos));
}

.rain-drop:nth-child(n) {
  --x-pos: calc(random * 1);
}

@keyframes rainFall {
  to {
    transform: translateY(120vh);
  }
}

/* SNOW BACKGROUND */
.weather-bg-layer.snow {
  background: linear-gradient(to bottom, #7f8c8d, #2c3e50);
}

.snow-flake {
  position: absolute;
  width: 8px;
  height: 8px;
  background: white;
  border-radius: 50%;
  opacity: 0.8;
  animation: snowFall 5s linear infinite;
  left: calc(100vw * var(--x-pos));
}

.snow-flake:nth-child(n) {
  --x-pos: calc(random * 1);
}

@keyframes snowFall {
  from { transform: translateY(-10vh) rotate(0deg); }
  to { transform: translateY(110vh) rotate(360deg); }
}

/* THUNDER BACKGROUND */
.weather-bg-layer.thunder {
  background: radial-gradient(circle, #111 40%, #000);
}

.thunder-flash {
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.8);
  animation: flashLightning 1.7s infinite;
  opacity: 0;
}

@keyframes flashLightning {
  0%, 90% { opacity: 0; }
  92% { opacity: 0.7; }
  94% { opacity: 0; }
  96% { opacity: 1; }
  100% { opacity: 0; }
}
